# ==============================================
# API Environment Variables
# ==============================================

# -------------------- Server --------------------
# Port the API server will listen on
PORT=3001

# Node environment (development, production, test)
NODE_ENV=development

# -------------------- Logging --------------------
# Log level for Pino logger (trace, debug, info, warn, error, fatal)
LOG_LEVEL=info

# -------------------- Database --------------------
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/10xstudent_dev

# -------------------- Authentication --------------------
# Clerk publishable key (safe to expose in client)
CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk secret key (keep secure, server-side only)
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk webhook signing secret for verifying webhook signatures
# Get this from Clerk Dashboard > Webhooks > Add Endpoint
CLERK_WEBHOOK_SIGNING_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# -------------------- Google AI --------------------
# Google API key for Gemini embeddings and AI features
# Get from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# -------------------- Cloudflare R2 Storage --------------------
# R2 bucket name for document storage
R2_BUCKET_NAME=10xstudent-documents

# R2 account ID
R2_ACCOUNT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# R2 access key ID
R2_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# R2 secret access key
R2_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# R2 endpoint URL (usually auto-generated based on account ID)
# Format: https://{account-id}.r2.cloudflarestorage.com
R2_ENDPOINT=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.r2.cloudflarestorage.com

# -------------------- Redis (for BullMQ queues) --------------------
# Redis connection URL for job queues
# Format: redis://[username]:[password]@host:port/db
REDIS_URL=redis://localhost:6379

# -------------------- CORS --------------------
# Comma-separated list of allowed origins for CORS
# Example: http://localhost:5173,http://localhost:3000
CORS_ORIGINS=http://localhost:5173

# -------------------- Typst Compilation --------------------
# Maximum file size for document uploads (in bytes)
# Default: 10MB
MAX_DOCUMENT_SIZE=10485760

# Maximum number of assets per document
MAX_ASSETS_PER_DOCUMENT=50
